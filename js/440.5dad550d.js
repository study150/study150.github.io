"use strict";(self["webpackChunkheadline"]=self["webpackChunkheadline"]||[]).push([[440],{3195:function(t,e,n){n.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.apiSearchAPI},scopedSlots:t._u([{key:"finished",fn:function(){return[t._t("finished",null,{len:t.list.length})]},proxy:!0},{key:"loading",fn:function(){return[e("div",[e("LoadingSvg")],1)]},proxy:!0}],null,!0),model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._t("default",null,{list:t.list})],2)],1)},s=[],l=(n(6791),n(4269)),a=(n(7658),n(5418)),o={name:"GlobalList",props:{API:{type:Function},limit:{type:Number,default:8}},components:{[l.Z.name]:l.Z,[a.Z.name]:a.Z},data(){return{skip:0,list:[],loading:!1,finished:!1}},computed:{},mounted(){},methods:{apiSearchAPI(){let{skip:t,limit:e,API:n,$attrs:i}=this;n({...i,skip:t,limit:e}).then((t=>{console.log(t),this.list.push(...t.data);let e=this.list.length;this.finished=e>=t.count,this.loading=!1,this.skip=e}))}}},r=o,u=n(1001),d=(0,u.Z)(r,i,s,!1,null,"010282f5",null),c=d.exports},6440:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"head"},[e("van-nav-bar",{attrs:{title:"收藏","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),e("global-list",{attrs:{API:t.API,user_id:t.user_id},scopedSlots:t._u([{key:"default",fn:function({list:t}){return[e("article-list",{attrs:{list:t}})]}}])})],1)},s=[],l=n(3822),a=n(3195),o=n(7941),r=n(2325),u={name:"MyCollect",components:{[a.Z.name]:a.Z,[o.Z.name]:o.Z},computed:{...(0,l.rn)("userModules",["userInfo"]),user_id(){return this.$store.state.userModules.userInfo._id}},data(){return{API:r.Dd}},mounted(){console.log(this.userInfo)},methods:{onClickLeft(){this.$toast("返回"),this.$router.back()}}},d=u,c=n(1001),f=(0,c.Z)(d,i,s,!1,null,null,null),p=f.exports},2325:function(t,e,n){n.d(e,{Dd:function(){return u},Rz:function(){return l},cT:function(){return c},nX:function(){return r}});var i=n(2470),s=n(1073);const l=t=>i.Z.post("/api/add_article",t),a=()=>i.Z.get("/upload/token"),o=t=>i.Z.post("https://upload-z1.qiniup.com",t),r=t=>i.Z.post("/api/get_user_article_list",t),u=t=>i.Z.post("/api/get_fav_list",t),d=t=>{let e=Math.random().toString(16).slice(2);return e+=+new Date,t?e+"."+t:e},c=async t=>{let e;try{let{token:n}=await a(),i=t.type.split("/")[1],s=d(i),l=new FormData;l.append("file",t),l.append("key",s),l.append("token",n),e=await o(l)}catch(n){return Promise.reject(n)}return s.Z.baseImgUrl+e.key}}}]);
//# sourceMappingURL=440.5dad550d.js.map