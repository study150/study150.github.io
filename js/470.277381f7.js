"use strict";(self["webpackChunkheadline"]=self["webpackChunkheadline"]||[]).push([[470],{9630:function(e,s,t){t.r(s),t.d(s,{default:function(){return f}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"register"},[s("div",{staticClass:"top"},[s("span",[s("van-icon",{attrs:{name:"arrow-left",color:"#ffffff"},on:{click:e.back}})],1),s("div",[s("router-link",{attrs:{to:"/register"}},[e._v("登录")]),s("a",[e._v("/")]),s("router-link",{attrs:{to:"/login"}},[e._v("注册")])],1)]),s("div",{staticClass:"registerForm"},[s("van-form",{on:{submit:e.onSubmit}},[s("van-field",{attrs:{name:"username",label:"手机号",placeholder:"手机号",rules:[{required:!0,message:"请填写用户名"},{pattern:e.regUsername,message:"请输入正确的手机号"}]},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),s("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"},{pattern:e.regPassword,message:"请输入6-12位的密码"}]},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)])},r=[],n=(t(7505),t(7061)),o=(t(1049),t(140)),i=(t(8984),t(797)),l=(t(7658),t(2223)),u=t(3822),m={name:"Register",components:{[i.Z.name]:i.Z,[o.Z.name]:o.Z,[n.Z.name]:n.Z},data(){return{username:"",password:"",regUsername:/^.*([1][3,4,5,7,8,9][0-9]{9}).*/,regPassword:/^.*([0-9]{6,12}).*/}},methods:{back(){this.$router.push({path:"/my"})},...(0,u.OI)("userModules",["CHANGE_SHOW_LOGIN","SET_USER_INFO","SET_TOKEN","SET_UID"]),onSubmit(e){(0,l.n$)(e).then((e=>{if(0===e.code){this.$toast(e.message);let{token:s,tokenExpired:t,uid:a,userInfo:r}=e;this.$router.push({path:"/my"}),localStorage.setItem("tokenExpired",t),localStorage.setItem("token",s),this.CHANGE_SHOW_LOGIN(!0),this.SET_USER_INFO(r),this.SET_TOKEN(s),this.SET_UID(a)}else this.$toast(e.message)}))}},mounted(){console.log(111)}},d=m,c=t(1001),p=(0,c.Z)(d,a,r,!1,null,"2a0a70c4",null),f=p.exports},7505:function(e,s,t){t(1958),t(3332),t(6742),t(3094),t(7984)}}]);
//# sourceMappingURL=470.277381f7.js.map