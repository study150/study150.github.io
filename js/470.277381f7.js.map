{"version":3,"file":"js/470.277381f7.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,WAAWC,GAAG,CAAC,MAAQN,EAAIO,SAAS,GAAGL,EAAG,MAAM,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,cAAc,CAACL,EAAIQ,GAAG,QAAQN,EAAG,IAAI,CAACF,EAAIQ,GAAG,OAAON,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,WAAW,CAACL,EAAIQ,GAAG,SAAS,KAAKN,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,WAAW,CAACI,GAAG,CAAC,OAASN,EAAIS,WAAW,CAACP,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,MAAM,YAAc,MAAM,MAAQ,CAC/hB,CAAEK,UAAU,EAAMC,QAAS,UAC3B,CAAEC,QAASZ,EAAIa,YAAaF,QAAS,eACpCG,MAAM,CAACC,MAAOf,EAAIgB,SAAUC,SAAS,SAAUC,GAAMlB,EAAIgB,SAASE,CAAG,EAAEC,WAAW,cAAcjB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAW,KAAO,WAAW,MAAQ,KAAK,YAAc,KAAK,MAAQ,CACpM,CAAEK,UAAU,EAAMC,QAAS,SAC3B,CAAEC,QAASZ,EAAIoB,YAAaT,QAAS,iBACpCG,MAAM,CAACC,MAAOf,EAAIqB,SAAUJ,SAAS,SAAUC,GAAMlB,EAAIqB,SAASH,CAAG,EAAEC,WAAW,cAAcjB,EAAG,MAAM,CAACoB,YAAY,CAAC,OAAS,SAAS,CAACpB,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,WAAW,CAACL,EAAIQ,GAAG,SAAS,IAAI,IAAI,IACnQ,EACIe,EAAkB,G,wFCgDtB,GACAC,KAAAA,WACAC,WAAAA,CACA,eACA,eACA,gBAEAC,OACA,OACAV,SAAAA,GACAK,SAAAA,GAEAR,YAAAA,kCACAO,YAAAA,qBAEA,EACAO,QAAAA,CAEApB,OACA,mBACAqB,KAAAA,OAEA,MAEA,uBACA,oBACA,gBACA,YACA,YAIAnB,SAAAA,IAGAoB,EAAAA,EAAAA,IAAAA,GAAAA,MAAAA,IACA,eACA,uBACA,UAAAC,EAAAA,aAAAC,EAAAA,IAAAC,EAAAA,SAAAC,GAAA,EACA,mBACAL,KAAAA,QAEAM,aAAAA,QAAAA,eAAAA,GACAA,aAAAA,QAAAA,QAAAA,GAEA,2BACA,sBACA,kBACA,eACA,MAEA,sBACA,GAEA,GAGAC,UACAC,QAAAA,IAAAA,IACA,GCnHiQ,I,UCQ7PC,GAAY,OACd,EACAtC,EACAwB,GACA,EACA,KACA,WACA,MAIF,EAAec,EAAiB,O","sources":["webpack://headline/./src/views/login/Register.vue","webpack://headline/src/views/login/Register.vue","webpack://headline/./src/views/login/Register.vue?dc1c","webpack://headline/./src/views/login/Register.vue?9334"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"top\"},[_c('span',[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"color\":\"#ffffff\"},on:{\"click\":_vm.back}})],1),_c('div',[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"登录\")]),_c('a',[_vm._v(\"/\")]),_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"注册\")])],1)]),_c('div',{staticClass:\"registerForm\"},[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"username\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[\n          { required: true, message: '请填写用户名' },\n          { pattern: _vm.regUsername, message: '请输入正确的手机号' },\n        ]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[\n          { required: true, message: '请填写密码' },\n          { pattern: _vm.regPassword, message: '请输入6-12位的密码' },\n        ]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register\">\r\n    <!-- <h1>登录</h1> -->\r\n    <!-- 头部 -->\r\n    <div class=\"top\">\r\n      <span>\r\n        <van-icon name=\"arrow-left\" color=\"#ffffff\" @click=\"back\" />\r\n      </span>\r\n      <div>\r\n        <router-link to=\"/register\">登录</router-link>\r\n        <a>/</a>\r\n        <router-link to=\"/login\">注册</router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 登录区 -->\r\n    <div class=\"registerForm\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n          v-model=\"username\"\r\n          name=\"username\"\r\n          label=\"手机号\"\r\n          placeholder=\"手机号\"\r\n          :rules=\"[\r\n            { required: true, message: '请填写用户名' },\r\n            { pattern: regUsername, message: '请输入正确的手机号' },\r\n          ]\"\r\n        />\r\n        <van-field\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          label=\"密码\"\r\n          placeholder=\"密码\"\r\n          :rules=\"[\r\n            { required: true, message: '请填写密码' },\r\n            { pattern: regPassword, message: '请输入6-12位的密码' },\r\n          ]\"\r\n        />\r\n        <div style=\"margin: 16px\">\r\n          <van-button round block type=\"info\" native-type=\"submit\"\r\n            >提交</van-button\r\n          >\r\n        </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { NavBar, Form, Field } from \"vant\";\r\n\r\nimport { userLogin } from \"@/api/login\";\r\n\r\n// 引用vuex的方法\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"Register\",\r\n  components: {\r\n    [NavBar.name]: NavBar,\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n  },\r\n  data() {\r\n    return {\r\n      username: \"\", //手机号\r\n      password: \"\", // 密码\r\n\r\n      regUsername: /^.*([1][3,4,5,7,8,9][0-9]{9}).*/, // 正则验证手机号\r\n      regPassword: /^.*([0-9]{6,12}).*/, // 正则验证密码\r\n    };\r\n  },\r\n  methods: {\r\n    // 退后一步\r\n    back() {\r\n      this.$router.push({\r\n        path: \"/my\",\r\n      });\r\n    },\r\n\r\n    ...mapMutations(\"userModules\", [\r\n      \"CHANGE_SHOW_LOGIN\",\r\n      \"SET_USER_INFO\",\r\n      \"SET_TOKEN\",\r\n      \"SET_UID\",\r\n    ]),\r\n\r\n    // 提交的时候获取账号和密码  登录\r\n    onSubmit(values) {\r\n      // console.log(\"submit\", values);\r\n\r\n      userLogin(values).then((res) => {\r\n        if (res.code === 0) {\r\n          this.$toast(res.message);\r\n          let { token, tokenExpired, uid, userInfo } = res;\r\n          this.$router.push({\r\n            path: \"/my\",\r\n          });\r\n          localStorage.setItem(\"tokenExpired\", tokenExpired);\r\n          localStorage.setItem(\"token\", token);\r\n\r\n          this.CHANGE_SHOW_LOGIN(true);\r\n          this.SET_USER_INFO(userInfo);\r\n          this.SET_TOKEN(token);\r\n          this.SET_UID(uid);\r\n        } else {\r\n          // console.log(res);\r\n          this.$toast(res.message);\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    console.log(111);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 跳转区\r\n.top {\r\n  display: flex;\r\n  height: 50px;\r\n  background: red;\r\n  align-items: center;\r\n  padding: 0 10px;\r\n  span {\r\n    display: block;\r\n    width: 20px;\r\n  }\r\n  div {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    a {\r\n      color: #fff;\r\n      margin: 0 3px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=2a0a70c4&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=2a0a70c4&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a0a70c4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","back","_v","onSubmit","required","message","pattern","regUsername","model","value","username","callback","$$v","expression","regPassword","password","staticStyle","staticRenderFns","name","components","data","methods","path","userLogin","token","tokenExpired","uid","userInfo","localStorage","mounted","console","component"],"sourceRoot":""}